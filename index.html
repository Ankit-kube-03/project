<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Samara's Birthday Storybook</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Plus+Jakarta+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --velvet: #1d1034;
      --twilight: #482c5f;
      --plum: #6d3b83;
      --rose: #fda3c8;
      --petal: #ffe6f1;
      --page: rgba(255, 255, 255, 0.92);
      --ink: #3a2451;
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(24px, 4vw, 48px);
      font-family: "Plus Jakarta Sans", "Segoe UI", sans-serif;
      background: radial-gradient(circle at 15% 20%, rgba(253, 163, 200, 0.22), transparent 60%),
                  radial-gradient(circle at 85% 12%, rgba(110, 90, 255, 0.18), transparent 58%),
                  linear-gradient(160deg, var(--velvet), #0c0718 58%, #050313);
      color: var(--ink);
      overflow: hidden;
      position: relative;
    }

    .aurora,
    .aurora::before,
    .aurora::after {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .aurora::before,
    .aurora::after {
      content: "";
      background: radial-gradient(circle, rgba(253, 163, 200, 0.28) 0%, rgba(253, 163, 200, 0) 70%);
      filter: blur(40px);
      animation: pulseGlow 18s ease-in-out infinite;
      opacity: 0.6;
    }

    .aurora::after {
      background: radial-gradient(circle, rgba(136, 111, 255, 0.28) 0%, rgba(136, 111, 255, 0) 70%);
      animation-delay: 6s;
    }

    @keyframes pulseGlow {
      0%, 100% { transform: translate3d(-20px, -10px, 0) scale(1); opacity: 0.55; }
      50% { transform: translate3d(20px, 20px, 0) scale(1.08); opacity: 0.75; }
    }

    .sparkles span {
      position: absolute;
      width: 7px;
      height: 7px;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0));
      border-radius: 50%;
      opacity: 0;
      animation: drift 14s linear infinite;
    }

    .sparkles span:nth-child(odd) { animation-duration: 18s; }
    .sparkles span:nth-child(3n) { animation-duration: 21s; }

    @keyframes drift {
      0% { transform: translateY(30%) scale(0.6); opacity: 0; }
      30% { opacity: 0.8; }
      70% { opacity: 1; }
      100% { transform: translateY(-120%) scale(0.9); opacity: 0; }
    }

    main {
      position: relative;
      z-index: 1;
      width: min(540px, 90vw);
    }

    @media (min-width: 1024px) {
      main { width: 620px; }
    }

    .book {
      position: relative;
      background: var(--page);
      border-radius: 26px;
      box-shadow: 0 28px 68px rgba(9, 4, 21, 0.55);
      padding: clamp(24px, 5vw, 36px);
      overflow: hidden;
      isolation: isolate;
      perspective: 1600px;
    }

    .book::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.45), rgba(253, 163, 200, 0.22) 35%, rgba(255, 255, 255, 0));
      mix-blend-mode: screen;
      opacity: 0.65;
      pointer-events: none;
    }

    .book::after {
      content: "";
      position: absolute;
      inset: -60px -80px;
      background: radial-gradient(circle at 20% 20%, rgba(253, 163, 200, 0.3), transparent 60%);
      z-index: -1;
      animation: floatAura 14s ease-in-out infinite;
    }

    @keyframes floatAura {
      0%, 100% { transform: translate3d(-12px, -8px, 0) scale(1); }
      50% { transform: translate3d(18px, 16px, 0) scale(1.04); }
    }

    .page-track {
      display: flex;
      width: 100%;
      transform: translateX(0%);
      transition: transform 0.75s cubic-bezier(0.65, 0, 0.35, 1);
      transform-style: preserve-3d;
    }

    .page {
      flex: 0 0 100%;
      min-height: clamp(340px, 60vh, 480px);
      display: grid;
      align-content: space-between;
      gap: clamp(18px, 4vw, 28px);
      padding-right: clamp(4px, 2vw, 12px);
      opacity: 0.2;
      transform: translateX(22px) rotateY(8deg);
      transition: opacity 0.6s ease, transform 0.75s cubic-bezier(0.65, 0, 0.35, 1);
    }

    .page-flip {
      position: absolute;
      top: clamp(0px, 2vw, 8px);
      bottom: clamp(0px, 2vw, 8px);
      right: 0;
      width: 52%;
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.95), rgba(253, 163, 200, 0.42) 55%, rgba(109, 59, 131, 0.22));
      border-left: 1px solid rgba(255, 255, 255, 0.72);
      box-shadow: -16px 0 38px rgba(29, 16, 52, 0.22);
      transform-origin: left center;
      transform: rotateY(-180deg);
      opacity: 0;
      pointer-events: none;
    }

    .book.turning .page-flip {
      animation: flipPage 0.85s cubic-bezier(0.65, 0, 0.45, 1) forwards;
    }

    @keyframes flipPage {
      0% { transform: rotateY(0deg); opacity: 0.92; }
      40% { opacity: 1; }
      100% { transform: rotateY(-180deg); opacity: 0; }
    }

    .page.active {
      opacity: 1;
      transform: translateX(0) rotateY(0);
    }

    h1, h2 {
      font-family: "Playfair Display", serif;
      color: var(--plum);
      margin: 0;
    }

    h1 {
      font-size: clamp(2.1rem, 6vw, 2.8rem);
      line-height: 1.1;
      text-align: center;
      letter-spacing: 1px;
    }

    h2 {
      font-size: clamp(1.7rem, 5.2vw, 2.3rem);
    }

    p {
      margin: 0;
      line-height: 1.75;
      font-size: clamp(1rem, 2.7vw, 1.12rem);
      color: rgba(58, 36, 81, 0.88);
    }

    .intro-text p {
      text-align: center;
    }

    .soft-box {
      background: rgba(255, 255, 255, 0.6);
      border-radius: 20px;
      padding: clamp(18px, 4.6vw, 24px);
      box-shadow: 0 16px 40px rgba(57, 30, 80, 0.18);
      border: 1px solid rgba(255, 255, 255, 0.65);
    }

    .prompt {
      text-align: center;
      font-size: clamp(1rem, 3vw, 1.1rem);
      color: rgba(109, 59, 131, 0.92);
      letter-spacing: 0.03em;
    }

    .turn-note {
      text-align: center;
      font-size: 0.96rem;
      color: rgba(109, 59, 131, 0.68);
    }

    .question-card {
      display: grid;
      gap: clamp(16px, 4vw, 24px);
    }

    .question-card p {
      font-size: clamp(1.02rem, 3vw, 1.16rem);
    }

    .options {
      display: flex;
      justify-content: center;
      gap: clamp(14px, 4vw, 20px);
      flex-wrap: wrap;
    }

    .options button {
      border: none;
      border-radius: 999px;
      padding: 12px 28px;
      font-size: 1rem;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      color: white;
      background: linear-gradient(130deg, var(--plum), var(--rose));
      box-shadow: 0 12px 28px rgba(75, 39, 105, 0.28);
      transition: transform 0.3s ease, box-shadow 0.3s ease, filter 0.3s ease;
    }

    .options button:focus-visible {
      outline: 3px solid rgba(253, 163, 200, 0.6);
      outline-offset: 3px;
    }

    .options button:nth-child(2) {
      background: linear-gradient(130deg, rgba(58, 36, 81, 0.8), rgba(253, 163, 200, 0.72));
    }

    .options button:active {
      transform: translateY(2px) scale(0.97);
      box-shadow: 0 10px 18px rgba(75, 39, 105, 0.2);
    }

    .yes-option {
      position: relative;
      overflow: hidden;
    }

    .yes-option::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(130deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0));
      transform: translateX(-120%);
      transition: transform 0.6s ease;
    }

    .yes-option:hover::after,
    .yes-option:focus-visible::after {
      transform: translateX(120%);
    }

    .answer-bubble {
      text-align: center;
      min-height: 28px;
      color: rgba(58, 36, 81, 0.86);
      font-weight: 500;
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .answer-bubble.show {
      opacity: 1;
      transform: translateY(0);
    }

    .closing-note {
      text-align: center;
      display: grid;
      gap: clamp(16px, 4vw, 24px);
    }

    .closing-note p {
      font-size: clamp(1.02rem, 3vw, 1.18rem);
    }

    .signature {
      font-family: "Playfair Display", serif;
      font-size: clamp(1.2rem, 3.8vw, 1.6rem);
      color: var(--plum);
    }

    .heart-shower,
    .petal-rain {
      position: absolute;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: -1;
    }

    .heart-shower span {
      position: absolute;
      color: rgba(253, 163, 200, 0.65);
      font-size: clamp(18px, 6vw, 32px);
      animation: hearts 6s ease-in infinite;
    }

    .heart-shower span:nth-child(odd) {
      color: rgba(255, 230, 241, 0.85);
      animation-delay: 1.2s;
    }

    .heart-shower span:nth-child(3n) {
      color: rgba(109, 59, 131, 0.45);
      animation-delay: 2.3s;
    }

    @keyframes hearts {
      0% { transform: translate3d(0, 30%, 0) scale(0.4); opacity: 0; }
      20% { opacity: 0.7; }
      60% { opacity: 1; }
      100% { transform: translate3d(0, -90%, 0) scale(1.1); opacity: 0; }
    }

    .petal-rain span {
      position: absolute;
      width: clamp(16px, 5vw, 28px);
      height: clamp(22px, 6vw, 36px);
      background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.86), rgba(253, 163, 200, 0.85) 55%, rgba(253, 163, 200, 0));
      border-radius: 60% 40% 55% 45%;
      filter: drop-shadow(0 6px 12px rgba(77, 33, 93, 0.28));
      opacity: 0;
      animation: petals 9s ease-in infinite;
      animation-play-state: paused;
    }

    .petal-rain span:nth-child(2n) {
      animation-duration: 10.4s;
      border-radius: 40% 60% 45% 55%;
    }

    .petal-rain span:nth-child(3n) {
      animation-duration: 11.6s;
      background: radial-gradient(circle at 40% 35%, rgba(255, 255, 255, 0.9), rgba(253, 190, 210, 0.85) 60%, rgba(253, 163, 200, 0));
    }

    .page.final.active .petal-rain span {
      animation-play-state: running;
    }

    @keyframes petals {
      0% { transform: translate3d(0, -110%, 0) rotate(-12deg) scale(0.8); opacity: 0; }
      10% { opacity: 1; }
      50% { transform: translate3d(-20px, 35vh, 0) rotate(18deg); }
      100% { transform: translate3d(40px, 110vh, 0) rotate(38deg); opacity: 0; }
    }

    .final .signature-line {
      position: relative;
      display: inline-block;
      padding: 6px 16px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(253, 163, 200, 0.24), rgba(109, 59, 131, 0.18));
      box-shadow: 0 12px 30px rgba(109, 59, 131, 0.18);
      overflow: hidden;
    }

    .final .signature-line::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0));
      transform: translateX(-120%);
      animation: signatureGlow 4.8s ease-in-out infinite;
    }

    @keyframes signatureGlow {
      0%, 60% { transform: translateX(-120%); opacity: 0; }
      70% { opacity: 1; }
      100% { transform: translateX(120%); opacity: 0; }
    }

    .controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-top: clamp(18px, 4vw, 28px);
      background: rgba(255, 255, 255, 0.12);
      padding: 12px 18px;
      border-radius: 999px;
      backdrop-filter: blur(10px);
      color: rgba(255, 255, 255, 0.85);
      font-size: 0.96rem;
      letter-spacing: 0.04em;
    }

    .controls button {
      border: none;
      border-radius: 999px;
      padding: 10px 18px;
      font-size: 0.95rem;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      color: var(--velvet);
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.92), rgba(253, 163, 200, 0.58));
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.18);
      transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
    }

    .controls button:disabled {
      opacity: 0.5;
      cursor: default;
      box-shadow: none;
    }

    .controls button:not(:disabled):active {
      transform: translateY(2px);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.16);
    }

    @media (max-width: 520px) {
      .book { padding: 22px 20px 26px; }
      .page { min-height: clamp(340px, 70vh, 520px); }
      .controls { padding: 10px 14px; }
    }
  </style>
</head>
<body>
  <div class="aurora"></div>
  <div class="sparkles" aria-hidden="true">
    <span style="left: 18%; top: 82%; animation-delay: 1s;"></span>
    <span style="left: 46%; top: 72%; animation-delay: 4s;"></span>
    <span style="left: 74%; top: 88%; animation-delay: 2.3s;"></span>
    <span style="left: 12%; top: 42%; animation-delay: 6.4s;"></span>
    <span style="left: 62%; top: 18%; animation-delay: 8.2s;"></span>
    <span style="left: 82%; top: 38%; animation-delay: 3.7s;"></span>
    <span style="left: 30%; top: 12%; animation-delay: 9.6s;"></span>
  </div>

  <main>
    <div class="book">
      <div class="page-flip" aria-hidden="true"></div>
      <div class="page-track" aria-live="polite">
        <section class="page active" data-index="0">
          <div class="intro-text">
            <h1>Happy Birthday, Samara</h1>
            <p>Tonight the universe feels softer because it's wrapping you in all the love I can send. You are the wish I whisper to the stars, the laugh that makes every mile between us disappear, the glow that sets my whole sky alight.</p>
            <div class="soft-box">
              <p>Close your eyes for a second and imagine my hands holding this tiny book, each page inked with the ways you enchant me. Breathe in every word, because every word is a promise that I am yours.</p>
            </div>
          </div>
          <p class="prompt">Can I ask you something, my love?</p>
          <p class="turn-note">Turn the page when you're ready.</p>
        </section>

        <section class="page" data-index="1">
          <div class="question-card soft-box">
            <h2>Question One</h2>
            <p>If my love was rain, would you let it fall on you without an umbrella?</p>
            <div class="options">
              <button type="button" class="yes-option" data-auto-turn="true" data-reply="I knew you'd say yes—your smile is my sunrise.">Yes</button>
              <button type="button" data-reply="Even if you tease me, I'll keep trying until yes is the only answer.">No</button>
            </div>
            <div class="answer-bubble" aria-live="polite"></div>
          </div>
        </section>

        <section class="page" data-index="2">
          <div class="question-card soft-box">
            <h2>Question Two</h2>
            <p>Can I be the reason you blush when your phone lights up?</p>
            <div class="options">
              <button type="button" class="yes-option" data-auto-turn="true" data-reply="Our midnight world is safe with me, always.">Yes</button>
              <button type="button" data-reply="I'll just have to steal those midnights anyway, sweetheart.">No</button>
            </div>
            <div class="answer-bubble" aria-live="polite"></div>
          </div>
        </section>

        <section class="page" data-index="3">
          <div class="question-card soft-box">
            <h2>Question Three</h2>
            <p>Will you hold my heart the way you hold your favorite song—on repeat, humming it all day, dancing with it when no one's watching?</p>
            <div class="options">
              <button type="button" class="yes-option" data-auto-turn="true" data-reply="Dance with me forever, Samara. I'm already spinning.">Yes</button>
              <button type="button" data-reply="Too late. My heart is already choreographed to you.">No</button>
            </div>
            <div class="answer-bubble" aria-live="polite"></div>
          </div>
        </section>

        <section class="page final" data-index="4">
          <div class="petal-rain" aria-hidden="true">
            <span style="left: 8%; animation-delay: 0s;"></span>
            <span style="left: 22%; animation-delay: 1.6s;"></span>
            <span style="left: 38%; animation-delay: 0.8s;"></span>
            <span style="left: 56%; animation-delay: 2.4s;"></span>
            <span style="left: 72%; animation-delay: 1.2s;"></span>
            <span style="left: 86%; animation-delay: 3.2s;"></span>
            <span style="left: 48%; animation-delay: 4.2s;"></span>
          </div>
          <div class="heart-shower" aria-hidden="true">
            <span style="left: 12%; animation-delay: 0s;">❤</span>
            <span style="left: 38%; animation-delay: 1s;">❤</span>
            <span style="left: 62%; animation-delay: 0.4s;">❤</span>
            <span style="left: 82%; animation-delay: 1.8s;">❤</span>
            <span style="left: 22%; animation-delay: 2.6s;">❤</span>
            <span style="left: 48%; animation-delay: 3.4s;">❤</span>
          </div>
          <div class="closing-note soft-box">
            <h2>Happy Birthday, Samara</h2>
            <p>You are the poem I never thought I'd write, the calm inside every storm, the warm cup that steadies my shaking hands. You complete me in ways I didn't know I needed, stitching every loose piece of me into something whole and hopeful.</p>
            <p>Every tomorrow I picture has you in it—laughing, dreaming, choosing us. Thank you for letting me love you this deeply. Thank you for being the answer to every question my heart could ask. Happy Birthday My baby I love you soo muchh</p>
            <p class="signature signature-line">Yours, Kit</p>
          </div>
        </section>
      </div>
    </div>

    <div class="controls" aria-label="Page controls">
      <button type="button" class="prev" aria-label="Previous page">Prev Page</button>
      <span>Page <span id="pageNumber">1</span> / 5</span>
      <button type="button" class="next" aria-label="Next page">Next Page</button>
    </div>
  </main>

  <script>
    const book = document.querySelector('.book');
    const track = document.querySelector('.page-track');
    const pages = Array.from(document.querySelectorAll('.page'));
    const prevBtn = document.querySelector('.prev');
    const nextBtn = document.querySelector('.next');
    const pageNumber = document.getElementById('pageNumber');
    let currentIndex = 0;
    let isTurning = false;
    const TURN_MIDPOINT = 360;
    const TURN_DURATION = 860;

    function triggerTurn(nextIndex) {
      if (isTurning || nextIndex === currentIndex || nextIndex < 0 || nextIndex >= pages.length) {
        return;
      }

      isTurning = true;
      book.classList.add('turning');
      updateBook();

      setTimeout(() => {
        currentIndex = nextIndex;
        updateBook();
      }, TURN_MIDPOINT);

      setTimeout(() => {
        book.classList.remove('turning');
        isTurning = false;
        updateBook();
      }, TURN_DURATION);
    }

    function updateBook() {
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
      pages.forEach((page, index) => {
        page.classList.toggle('active', index === currentIndex);
      });
      prevBtn.disabled = isTurning || currentIndex === 0;
      nextBtn.disabled = isTurning || currentIndex === pages.length - 1;
      pageNumber.textContent = currentIndex + 1;
    }

    prevBtn.addEventListener('click', () => {
      if (isTurning) return;
      if (currentIndex > 0) {
        currentIndex -= 1;
        updateBook();
      }
    });

    nextBtn.addEventListener('click', () => {
      if (currentIndex < pages.length - 1) {
        triggerTurn(currentIndex + 1);
      }
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'ArrowRight' || event.key === 'PageDown') {
        nextBtn.click();
      }
      if (event.key === 'ArrowLeft' || event.key === 'PageUp') {
        prevBtn.click();
      }
    });

    pages.forEach((page) => {
      const buttons = page.querySelectorAll('.options button');
      const bubble = page.querySelector('.answer-bubble');
      buttons.forEach((button) => {
        button.addEventListener('click', () => {
          if (!bubble) return;
          bubble.textContent = button.dataset.reply;
          bubble.classList.add('show');
          setTimeout(() => {
            bubble.classList.remove('show');
          }, 3200);

          if (button.dataset.autoTurn === 'true') {
            setTimeout(() => {
              triggerTurn(Math.min(pages.length - 1, currentIndex + 1));
            }, 600);
          }
        });
      });
    });

    updateBook();
  </script>
</body>
</html>
